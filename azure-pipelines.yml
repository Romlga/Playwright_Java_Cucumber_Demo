trigger:
  branches:
    include:
      - main
      - feature/testcontext-integration

pool:
  name: RestAPI-Service-vm-pool

variables:
  TEST_PROJECT_PATH: '$(Pipeline.Workspace)\Playwright Java Cucumber'

steps:
- checkout: self
  displayName: 'Checkout code'

- script: mvn -version
  displayName: 'Show Maven and Java version'

- script: mvn clean install
  displayName: 'Build project'

- script: mvn test -Dcucumber.filter.tags=@initial
  displayName: 'Run @initial tests'

- script: |
    echo Testprojektpfad: %TEST_PROJECT_PATH%
  displayName: 'Show TEST_PROJECT_PATH variable'